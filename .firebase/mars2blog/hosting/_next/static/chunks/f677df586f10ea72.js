(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,48256,e=>{"use strict";let s=(0,e.i(75254).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>s],48256)},67367,e=>{"use strict";var s=e.i(18050),t=e.i(32341),l=e.i(18566),a=e.i(71645),r=e.i(61745),i=e.i(44705),n=e.i(60289),d=e.i(75254);let c=(0,d.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var o=e.i(48256),m=e.i(92270);let u=(0,d.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var h=e.i(17121);function x({children:e}){let{user:d,profile:x,loading:f}=(0,t.useAuth)(),p=(0,l.useRouter)(),g=(0,l.usePathname)(),b=(0,r.useLocale)();(0,a.useEffect)(()=>{!f&&(d||g.includes("/login")?d&&x&&"admin"===x.role&&"pending"===x.status&&!g.includes("/login")&&((0,h.logout)(),p.push(`/${b}/admin/login`)):p.push(`/${b}/admin/login`))},[d,x,f,p,g,b]);let j=async()=>{await (0,h.logout)(),p.push(`/${b}`)};if(f)return(0,s.jsx)("div",{className:"flex h-screen items-center justify-center font-medium",children:"Loading..."});let y=g.includes("/login");if(!d&&y)return(0,s.jsx)(s.Fragment,{children:e});if(d&&!x&&!y)return(0,s.jsx)("div",{className:"flex h-screen items-center justify-center font-medium",children:"Loading Profile..."});if(d&&y)return(0,s.jsx)(s.Fragment,{children:e});if(!d||!x)return null;let v=[{href:"/admin",label:"Posts",icon:c,roles:["admin","author"]},{href:"/admin/members",label:"Members",icon:u,roles:["admin"]},{href:"/admin/sitemap",label:"Sitemap",icon:o.Globe,roles:["admin"]}].filter(e=>e.roles.includes(x.role));return(0,s.jsxs)("div",{className:"min-h-screen flex bg-muted/5",children:[(0,s.jsxs)("aside",{className:"w-64 border-r bg-background flex flex-col hidden md:flex",children:[(0,s.jsx)("div",{className:"p-6 border-b",children:(0,s.jsxs)("h1",{className:"text-xl font-bold flex items-center gap-2",children:[(0,s.jsx)(n.LayoutDashboard,{className:"w-5 h-5 text-primary"}),"Admin Panel"]})}),(0,s.jsx)("nav",{className:"flex-1 p-4 space-y-1",children:v.map(e=>{let t=g===`/${b}${e.href}`||"/admin"===e.href&&g===`/${b}/admin`;return(0,s.jsxs)(i.Link,{href:e.href,className:`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${t?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted"}`,children:[(0,s.jsx)(e.icon,{className:`w-4 h-4 ${t?"text-primary-foreground":"text-muted-foreground"}`}),e.label]},e.href)})}),(0,s.jsxs)("div",{className:"p-4 border-t space-y-4",children:[(0,s.jsxs)("div",{className:"px-4",children:[(0,s.jsxs)("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-1",children:["User (",x.role,")"]}),(0,s.jsx)("p",{className:"text-xs truncate font-medium",children:d.email})]}),(0,s.jsxs)("button",{onClick:j,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-destructive hover:bg-destructive/10 transition-colors",children:[(0,s.jsx)(m.LogOut,{className:"w-4 h-4"}),"Logout"]})]})]}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[(0,s.jsxs)("header",{className:"md:hidden border-b p-4 flex justify-between items-center bg-background sticky top-0 z-10",children:[(0,s.jsxs)("h1",{className:"text-lg font-bold truncate",children:["Admin: ",v.find(e=>g.includes(e.href))?.label||"Dashboard"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[v.map(e=>(0,s.jsx)(i.Link,{href:e.href,children:(0,s.jsx)(e.icon,{className:"w-5 h-5"})},e.href)),(0,s.jsx)("button",{onClick:j,children:(0,s.jsx)(m.LogOut,{className:"w-5 h-5 text-destructive"})})]})]}),(0,s.jsx)("main",{className:"flex-1 overflow-y-auto p-4 md:p-10",children:(0,s.jsx)("div",{className:"max-w-6xl mx-auto h-full",children:e})})]})]})}e.s(["default",()=>x],67367)}]);