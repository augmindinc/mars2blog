(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,93479,e=>{"use strict";var t=e.i(18050),a=e.i(75157);function r({className:e,type:r,...l}){return(0,t.jsx)("input",{type:r,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...l})}e.s(["Input",()=>r])},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},84774,55436,e=>{"use strict";var t=e.i(18050),a=e.i(75157);function r({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",e),...r})})}function l({className:e,...r}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,a.cn)("[&_tr]:border-b",e),...r})}function s({className:e,...r}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",e),...r})}function i({className:e,...r}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,a.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...r})}function n({className:e,...r}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,a.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r})}function d({className:e,...r}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,a.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r})}e.s(["Table",()=>r,"TableBody",()=>s,"TableCell",()=>d,"TableHead",()=>n,"TableHeader",()=>l,"TableRow",()=>i],84774);let o=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>o],55436)},87486,e=>{"use strict";var t=e.i(18050),a=e.i(25913),r=e.i(75157);let l=(0,a.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",success:"border-transparent bg-emerald-100 text-emerald-800 border-emerald-200",warning:"border-transparent bg-amber-100 text-amber-800 border-amber-200",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function s({className:e,variant:a,...s}){return(0,t.jsx)("div",{className:(0,r.cn)(l({variant:a}),e),...s})}e.s(["Badge",()=>s])},42660,e=>{"use strict";var t=e.i(47167),a=e.i(18050),r=e.i(66027),l=e.i(14294),s=e.i(84774),i=e.i(87486),n=e.i(1851),d=e.i(75254);let o=(0,d.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var c=e.i(55436),u=e.i(48256),x=e.i(93479),m=e.i(71645),h=e.i(19455),b=e.i(31278);let p=(0,d.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.i(61978);var f=e.i(52831),y=e.i(59141);function g(){let e=t.default.env.NEXT_PUBLIC_APP_URL||"https://mars.it.kr",[d,g]=(0,m.useState)(""),{data:j,isLoading:v}=(0,r.useQuery)({queryKey:["sitemap-posts"],queryFn:()=>(0,l.getPosts)("ALL")}),w=[{url:e,priority:1,frequency:"daily",type:"Static"},{url:`${e}/ko`,priority:1,frequency:"daily",type:"Static"},{url:`${e}/en`,priority:1,frequency:"daily",type:"Static"},...j?.map(t=>({url:`${e}/ko/blog/${t.slug}`,priority:.7,frequency:"weekly",type:"Post",lastModified:t.updatedAt?.toDate(),title:t.title}))||[]].filter(e=>e.url.toLowerCase().includes(d.toLowerCase())||e.title&&e.title.toLowerCase().includes(d.toLowerCase())),[N,T]=(0,m.useState)(new Set),k=async e=>{T(t=>new Set(t).add(e));try{let t=(0,f.httpsCallable)(y.functions,"manualIndexUrl");(await t({url:e})).data&&alert(`Indexing requested for: ${e}`)}catch(e){console.error("Indexing request failed",e),alert(`Failed: ${e.message||"Unknown error"}`)}finally{T(t=>{let a=new Set(t);return a.delete(e),a})}};return v?(0,a.jsx)("div",{className:"p-8 text-center",children:"Loading sitemap data..."}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,a.jsx)(u.Globe,{className:"w-6 h-6 text-primary"}),"Sitemap Management"]}),(0,a.jsx)("p",{className:"text-muted-foreground text-sm",children:"View all URLs currently indexed and included in sitemap.xml"})]}),(0,a.jsxs)("div",{className:"relative w-full md:w-72",children:[(0,a.jsx)(c.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,a.jsx)(x.Input,{placeholder:"Search URLs...",className:"pl-9",value:d,onChange:e=>g(e.target.value)})]})]}),(0,a.jsx)("div",{className:"bg-background rounded-xl border shadow-sm overflow-hidden",children:(0,a.jsxs)(s.Table,{children:[(0,a.jsx)(s.TableHeader,{className:"bg-muted/50",children:(0,a.jsxs)(s.TableRow,{children:[(0,a.jsx)(s.TableHead,{children:"Type"}),(0,a.jsx)(s.TableHead,{children:"URL / Title"}),(0,a.jsx)(s.TableHead,{children:"Priority"}),(0,a.jsx)(s.TableHead,{children:"Frequency"}),(0,a.jsx)(s.TableHead,{children:"Last Modified"}),(0,a.jsx)(s.TableHead,{className:"text-right",children:"Link"})]})}),(0,a.jsx)(s.TableBody,{children:w.map((e,t)=>(0,a.jsxs)(s.TableRow,{children:[(0,a.jsx)(s.TableCell,{children:(0,a.jsx)(i.Badge,{variant:"Static"===e.type?"secondary":"outline",children:e.type})}),(0,a.jsx)(s.TableCell,{className:"max-w-[400px]",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[e.title&&(0,a.jsx)("span",{className:"font-semibold text-sm truncate",children:e.title}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground break-all",children:e.url})]})}),(0,a.jsx)(s.TableCell,{children:(0,a.jsx)("span",{className:"text-sm font-mono text-blue-600",children:e.priority.toFixed(1)})}),(0,a.jsx)(s.TableCell,{className:"text-sm italic text-muted-foreground capitalize",children:e.frequency}),(0,a.jsx)(s.TableCell,{className:"text-sm text-muted-foreground",children:e.lastModified?(0,n.format)(e.lastModified,"yyyy-MM-dd HH:mm"):"-"}),(0,a.jsx)(s.TableCell,{className:"text-right",children:(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsxs)(h.Button,{variant:"ghost",size:"sm",className:"h-8 px-2 text-xs gap-1 hover:text-primary hover:bg-primary/5",onClick:()=>k(e.url),disabled:N.has(e.url),children:[N.has(e.url)?(0,a.jsx)(b.Loader2,{className:"w-3 h-3 animate-spin"}):(0,a.jsx)(p,{className:"w-3 h-3"}),N.has(e.url)?"Requesting...":"Index"]}),(0,a.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center p-2 hover:bg-muted rounded-md transition-colors text-primary",children:(0,a.jsx)(o,{className:"w-4 h-4"})})]})})]},t))})]})}),(0,a.jsxs)("div",{className:"flex justify-between items-center text-xs text-muted-foreground px-2",children:[(0,a.jsxs)("span",{children:["Total Entries: ",w.length]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:["Live XML: ",(0,a.jsx)("a",{href:"/sitemap.xml",target:"_blank",className:"underline hover:text-primary",children:"/sitemap.xml"})]})]})]})}e.s(["default",()=>g],42660)}]);