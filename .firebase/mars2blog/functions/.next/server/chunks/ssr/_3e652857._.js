module.exports=[44494,a=>{"use strict";let b=(0,a.i(70106).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);a.s(["Globe",()=>b],44494)},66800,a=>{"use strict";var b=a.i(87924),c=a.i(56025),d=a.i(50944),e=a.i(72131),f=a.i(32886),g=a.i(88934),h=a.i(30617),i=a.i(70106);let j=(0,i.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var k=a.i(44494),l=a.i(20005);let m=(0,i.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var n=a.i(48829);function o({children:a}){let{user:i,profile:o,loading:p}=(0,c.useAuth)(),q=(0,d.useRouter)(),r=(0,d.usePathname)(),s=(0,f.useLocale)();(0,e.useEffect)(()=>{!p&&(i||r.includes("/login")?i&&o&&"admin"===o.role&&"pending"===o.status&&!r.includes("/login")&&((0,n.logout)(),q.push(`/${s}/admin/login`)):q.push(`/${s}/admin/login`))},[i,o,p,q,r,s]);let t=async()=>{await (0,n.logout)(),q.push(`/${s}`)};if(p)return(0,b.jsx)("div",{className:"flex h-screen items-center justify-center font-medium",children:"Loading..."});let u=r.includes("/login");if(!i&&u)return(0,b.jsx)(b.Fragment,{children:a});if(i&&!o&&!u)return(0,b.jsx)("div",{className:"flex h-screen items-center justify-center font-medium",children:"Loading Profile..."});if(i&&u)return(0,b.jsx)(b.Fragment,{children:a});if(!i||!o)return null;let v=[{href:"/admin",label:"Posts",icon:j,roles:["admin","author"]},{href:"/admin/members",label:"Members",icon:m,roles:["admin"]},{href:"/admin/sitemap",label:"Sitemap",icon:k.Globe,roles:["admin"]}].filter(a=>a.roles.includes(o.role));return(0,b.jsxs)("div",{className:"min-h-screen flex bg-muted/5",children:[(0,b.jsxs)("aside",{className:"w-64 border-r bg-background flex flex-col hidden md:flex",children:[(0,b.jsx)("div",{className:"p-6 border-b",children:(0,b.jsxs)("h1",{className:"text-xl font-bold flex items-center gap-2",children:[(0,b.jsx)(h.LayoutDashboard,{className:"w-5 h-5 text-primary"}),"Admin Panel"]})}),(0,b.jsx)("nav",{className:"flex-1 p-4 space-y-1",children:v.map(a=>{let c=r===`/${s}${a.href}`||"/admin"===a.href&&r===`/${s}/admin`;return(0,b.jsxs)(g.Link,{href:a.href,className:`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${c?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-muted"}`,children:[(0,b.jsx)(a.icon,{className:`w-4 h-4 ${c?"text-primary-foreground":"text-muted-foreground"}`}),a.label]},a.href)})}),(0,b.jsxs)("div",{className:"p-4 border-t space-y-4",children:[(0,b.jsxs)("div",{className:"px-4",children:[(0,b.jsxs)("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wider mb-1",children:["User (",o.role,")"]}),(0,b.jsx)("p",{className:"text-xs truncate font-medium",children:i.email})]}),(0,b.jsxs)("button",{onClick:t,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-destructive hover:bg-destructive/10 transition-colors",children:[(0,b.jsx)(l.LogOut,{className:"w-4 h-4"}),"Logout"]})]})]}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[(0,b.jsxs)("header",{className:"md:hidden border-b p-4 flex justify-between items-center bg-background sticky top-0 z-10",children:[(0,b.jsxs)("h1",{className:"text-lg font-bold truncate",children:["Admin: ",v.find(a=>r.includes(a.href))?.label||"Dashboard"]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[v.map(a=>(0,b.jsx)(g.Link,{href:a.href,children:(0,b.jsx)(a.icon,{className:"w-5 h-5"})},a.href)),(0,b.jsx)("button",{onClick:t,children:(0,b.jsx)(l.LogOut,{className:"w-5 h-5 text-destructive"})})]})]}),(0,b.jsx)("main",{className:"flex-1 overflow-y-auto p-4 md:p-10",children:(0,b.jsx)("div",{className:"max-w-6xl mx-auto h-full",children:a})})]})]})}a.s(["default",()=>o],66800)}];

//# sourceMappingURL=_3e652857._.js.map